<html><head><title>scala-java-time: scala-java-time</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Carlos Quiroz" /><meta name="description" content="java.time API implementation in Scala and Scala.js" /><meta name="og:image" content="/scala-java-time/img/poster.png" /><meta name="image" property="og:image" content="/scala-java-time/img/poster.png" /><meta name="og:title" content="scala-java-time: scala-java-time" /><meta name="title" property="og:title" content="scala-java-time: scala-java-time" /><meta name="og:site_name" content="scala-java-time" /><meta name="og:url" content="https://github.com/cquiroz/scala-java-time" /><meta name="og:type" content="website" /><meta name="og:description" content="java.time API implementation in Scala and Scala.js" /><link rel="icon" type="image/png" href="/scala-java-time/img/favicon.png" /><meta name="twitter:title" content="scala-java-time: scala-java-time" /><meta name="twitter:image" content="/scala-java-time/img/poster.png" /><meta name="twitter:description" content="java.time API implementation in Scala and Scala.js" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/scala-java-time/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/scala-java-time/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/scala-java-time/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/scala-java-time/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/scala-java-time/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/scala-java-time/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/scala-java-time/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/scala-java-time/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/scala-java-time/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/scala-java-time/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/scala-java-time/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/scala-java-time/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/scala-java-time/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/scala-java-time/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/scala-java-time/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/scala-java-time/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/scala-java-time/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/scala-java-time/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/scala-java-time/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/scala-java-time/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/scala-java-time/highlight/styles/color-brewer.css" /><link rel="stylesheet" href="/scala-java-time/css/style.css" /><link rel="stylesheet" href="/scala-java-time/css/palette.css" /><link rel="stylesheet" href="/scala-java-time/css/codemirror.css" /></head><body><header id="site-header"><div class="navbar-wrapper"><div class="container"><div class="row"><div class="col-xs-6"><a href="/scala-java-time/" class="brand"><div class="icon-wrapper"><span>scala-java-time</span></div></a></div><div class="col-xs-6"><nav class="text-right"><ul class=""><li><a href="https://github.com/cquiroz/scala-java-time"><i class="fa fa-github"></i><span class="hidden-xs">GitHub</span></a></li></ul></nav></div></div></div></div><div class="jumbotron"><div class="container"><h1 class="text-center">java.time API implementation in Scala and Scala.js</h1><h2></h2><p class="text-center"><a href="https://github.com/cquiroz/scala-java-time" class="btn btn-outline-inverse">View on GitHub</a></p></div></div><div><ul class="horizontalNav">      </ul></div></header><main id="site-main"><section class="use"><div class="container"><div id="content"><h2 id="scala-java-time">Scala Java-Time</h2>

<p><a href="https://travis-ci.org/cquiroz/scala-java-time"><img src="https://travis-ci.org/cquiroz/scala-java-time.svg?branch=master" alt="Build Status" /></a>
<a href="https://maven-badges.herokuapp.com/maven-central/io.github.cquiroz/scala-java-time_2.12"><img src="https://img.shields.io/maven-central/v/io.github.cquiroz/scala-java-time_2.12.svg" alt="Maven Central" /></a>
<a href="http://scala-js.org"><img src="http://scala-js.org/assets/badges/scalajs-0.6.8.svg" alt="Scala.js" /></a></p>

<p>This project provides an implementation of the <code class="highlighter-rouge">java.time</code> package, a date and time library that was added in Java 8.
The implementation is based on the original BSD-licensed reference implementation (before it was contributed to OpenJDK).</p>

<h4 id="example">Example</h4>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">java.time._</span>
<span class="c1">// import java.time._
</span>
<span class="c1">// always returns 2009-02-13T23:31:30
</span><span class="k">val</span> <span class="n">fixedClock</span> <span class="k">=</span> <span class="nc">Clock</span><span class="o">.</span><span class="n">fixed</span><span class="o">(</span><span class="nc">Instant</span><span class="o">.</span><span class="n">ofEpochSecond</span><span class="o">(</span><span class="mi">1234567890L</span><span class="o">),</span> <span class="nc">ZoneOffset</span><span class="o">.</span><span class="n">ofHours</span><span class="o">(</span><span class="mi">0</span><span class="o">))</span>
<span class="c1">// fixedClock: java.time.Clock = FixedClock[2009-02-13T23:31:30Z,Z]
</span>
<span class="k">val</span> <span class="n">date</span> <span class="k">=</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="n">now</span><span class="o">(</span><span class="n">fixedClock</span><span class="o">)</span>
<span class="c1">// date: java.time.LocalDateTime = 2009-02-13T23:31:30
</span>
<span class="n">date</span><span class="o">.</span><span class="n">getMonth</span>      <span class="o">==</span> <span class="nc">Month</span><span class="o">.</span><span class="nc">FEBRUARY</span>
<span class="c1">// res1: Boolean = true
</span>
<span class="n">date</span><span class="o">.</span><span class="n">getDayOfWeek</span>  <span class="o">==</span> <span class="nc">DayOfWeek</span><span class="o">.</span><span class="nc">FRIDAY</span>
<span class="c1">// res2: Boolean = true
</span>
<span class="n">date</span><span class="o">.</span><span class="n">getDayOfMonth</span> <span class="o">==</span> <span class="mi">13</span>
<span class="c1">// res3: Boolean = true
</span>
<span class="n">date</span><span class="o">.</span><span class="n">getHour</span>       <span class="o">==</span> <span class="mi">23</span>
<span class="c1">// res4: Boolean = true
</span>
<span class="k">val</span> <span class="n">tomorrow</span> <span class="k">=</span> <span class="n">date</span><span class="o">.</span><span class="n">plusDays</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
<span class="c1">// tomorrow: java.time.LocalDateTime = 2009-02-14T23:31:30
</span>
<span class="k">val</span> <span class="n">duration</span> <span class="k">=</span> <span class="nc">Duration</span><span class="o">.</span><span class="n">between</span><span class="o">(</span><span class="n">date</span><span class="o">,</span> <span class="n">tomorrow</span><span class="o">)</span>
<span class="c1">// duration: java.time.Duration = PT24H
</span>
<span class="n">duration</span><span class="o">.</span><span class="n">toMinutes</span> <span class="o">==</span> <span class="mi">1440L</span>
<span class="c1">// res5: Boolean = true
</span>
<span class="k">val</span> <span class="n">period</span> <span class="k">=</span> <span class="nc">Period</span><span class="o">.</span><span class="n">between</span><span class="o">(</span><span class="n">date</span><span class="o">.</span><span class="n">toLocalDate</span><span class="o">,</span> <span class="n">tomorrow</span><span class="o">.</span><span class="n">toLocalDate</span><span class="o">)</span>
<span class="c1">// period: java.time.Period = P1D
</span>
<span class="n">period</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="n">temporal</span><span class="o">.</span><span class="nc">ChronoUnit</span><span class="o">.</span><span class="nc">DAYS</span><span class="o">)</span> <span class="o">==</span> <span class="mi">1L</span>
<span class="c1">// res6: Boolean = true
</span>
<span class="k">val</span> <span class="n">date1</span> <span class="k">=</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="n">of</span><span class="o">(</span><span class="mi">2001</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">31</span><span class="o">)</span>
<span class="c1">// date1: java.time.LocalDate = 2001-01-31
</span>
<span class="n">date1</span><span class="o">.</span><span class="n">plusMonths</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">==</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="n">of</span><span class="o">(</span><span class="mi">2001</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">28</span><span class="o">)</span>
<span class="c1">// res7: Boolean = true
</span>
<span class="k">val</span> <span class="n">date2</span> <span class="k">=</span> <span class="n">date1</span><span class="o">.</span><span class="n">`with`</span><span class="o">(</span><span class="n">temporal</span><span class="o">.</span><span class="nc">TemporalAdjusters</span><span class="o">.</span><span class="n">next</span><span class="o">(</span><span class="nc">DayOfWeek</span><span class="o">.</span><span class="nc">SUNDAY</span><span class="o">))</span>
<span class="c1">// date2: java.time.LocalDate = 2001-02-04
</span>
<span class="n">date2</span> <span class="o">==</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="n">of</span><span class="o">(</span><span class="mi">2001</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">4</span><span class="o">)</span>
<span class="c1">// res8: Boolean = true
</span>
<span class="k">val</span> <span class="n">offsetTime</span> <span class="k">=</span> <span class="nc">OffsetTime</span><span class="o">.</span><span class="n">of</span><span class="o">(</span><span class="n">date</span><span class="o">.</span><span class="n">toLocalTime</span><span class="o">,</span> <span class="nc">ZoneOffset</span><span class="o">.</span><span class="n">ofHours</span><span class="o">(</span><span class="mi">1</span><span class="o">))</span>
<span class="c1">// offsetTime: java.time.OffsetTime = 23:31:30+01:00
</span>
<span class="n">offsetTime</span><span class="o">.</span><span class="n">isBefore</span><span class="o">(</span><span class="nc">OffsetTime</span><span class="o">.</span><span class="n">of</span><span class="o">(</span><span class="n">date</span><span class="o">.</span><span class="n">toLocalTime</span><span class="o">,</span> <span class="nc">ZoneOffset</span><span class="o">.</span><span class="n">ofHours</span><span class="o">(</span><span class="mi">0</span><span class="o">)))</span> <span class="o">==</span> <span class="kc">true</span>
<span class="c1">// res9: Boolean = true
</span>
<span class="k">val</span> <span class="n">format1</span> <span class="k">=</span> <span class="n">format</span><span class="o">.</span><span class="nc">DateTimeFormatter</span><span class="o">.</span><span class="n">ofPattern</span><span class="o">(</span><span class="s">"MMMM MM d HH mm ss EE EEEE yyyy G"</span><span class="o">,</span> <span class="n">java</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="nc">Locale</span><span class="o">.</span><span class="nc">GERMAN</span><span class="o">)</span>
<span class="c1">// format1: java.time.format.DateTimeFormatter = Text(MonthOfYear)' 'Value(MonthOfYear,2)' 'Value(DayOfMonth)' 'Value(HourOfDay,2)' 'Value(MinuteOfHour,2)' 'Value(SecondOfMinute,2)' 'Text(DayOfWeek,SHORT)' 'Text(DayOfWeek)' 'Value(YearOfEra,4,19,EXCEEDS_PAD)' 'Text(Era,SHORT)
</span>
<span class="n">date</span><span class="o">.</span><span class="n">format</span><span class="o">(</span><span class="n">format1</span><span class="o">)</span> <span class="o">==</span> <span class="s">"Februar 02 13 23 31 30 Fr. Freitag 2009 n. Chr."</span>
<span class="c1">// res10: Boolean = false
</span>
<span class="n">chrono</span><span class="o">.</span><span class="nc">JapaneseDate</span><span class="o">.</span><span class="n">now</span><span class="o">(</span><span class="n">fixedClock</span><span class="o">).</span><span class="n">toString</span>     <span class="o">==</span> <span class="s">"Japanese Heisei 21-02-13"</span>
<span class="c1">// res11: Boolean = true
</span>
<span class="n">chrono</span><span class="o">.</span><span class="nc">ThaiBuddhistDate</span><span class="o">.</span><span class="n">now</span><span class="o">(</span><span class="n">fixedClock</span><span class="o">).</span><span class="n">toString</span> <span class="o">==</span> <span class="s">"ThaiBuddhist BE 2552-02-13"</span>
<span class="c1">// res12: Boolean = true
</span>
<span class="n">chrono</span><span class="o">.</span><span class="nc">MinguoDate</span><span class="o">.</span><span class="n">now</span><span class="o">(</span><span class="n">fixedClock</span><span class="o">).</span><span class="n">toString</span>       <span class="o">==</span> <span class="s">"Minguo ROC 98-02-13"</span>
<span class="c1">// res13: Boolean = true
</span></code></pre></div></div>

<h3 id="usage">Usage</h3>

<p>The <em>scala-java-time</em> library is currently available for Scala (JVM, version 8 and later) and Scala.js (JavaScript).
Both Scala 2.11 and Scala 2.12 (2.0.0-M8 and later) are supported.</p>

<p>To get started with SBT, add one of these dependencies:</p>

<ul>
  <li><code class="highlighter-rouge">libraryDependencies += "io.github.cquiroz" %% "scala-java-time" % "2.0.0-RC3"</code> (for Scala)</li>
  <li><code class="highlighter-rouge">libraryDependencies += "io.github.cquiroz" %%% "scala-java-time" % "2.0.0-RC3"</code> (for Scala.js, <a href="http://www.scala-js.org/tutorial/basic/#sbt-setup">Scala.js plugin</a> required)</li>
</ul>

<p>To get the latest snapshots add the repo</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>resolvers +=
  Resolver.sonatypeRepo("snapshots")
</code></pre></div></div>

<p>and either:</p>

<ul>
  <li><code class="highlighter-rouge">libraryDependencies += "io.github.cquiroz" %% "scala-java-time" % "2.0.0-RC3-SNAPSHOT"</code> (for Scala)</li>
  <li><code class="highlighter-rouge">libraryDependencies += "io.github.cquiroz" %%% "scala-java-time" % "2.0.0-RC3-SNAPSHOT"</code> (for Scala.js, <a href="http://www.scala-js.org/tutorial/basic/#sbt-setup">Scala.js plugin</a> required)</li>
</ul>

<h3 id="time-zones">Time zones</h3>

<h4 id="no-timezones">No timezones</h4>

<p>If you don’t need to use timezones in your application you can just stop here. By default <code class="highlighter-rouge">UTC</code> will always be available but otherwise the library will work fine and produce the smallest possible js file</p>

<h4 id="time-zone-data-js-alternative-i-all-timezones">Time-zone data (JS) alternative I (All timezones)</h4>

<p>The timezone for js is provided in a separate bundle which contains all time zones available from
<a href="https://www.iana.org/time-zones">IANA Time Zone Database</a>. To use them you need to add the following dependency</p>

<ul>
  <li><code class="highlighter-rouge">libraryDependencies += "io.github.cquiroz" %%% "scala-java-time-tzdb" % "2.0.0-RC3_2019a"</code> (for Scala.js, <a href="http://www.scala-js.org/tutorial/basic/#sbt-setup">Scala.js plugin</a> required)</li>
</ul>

<p>Note that the db is fairly large and due to the characteristics of the API it’s not very ammenable to optimization
This database is published every now and then so it maybe old. For current version see the following section.</p>

<h4 id="time-zone-data-js-alternative-ii-selective-timezones">Time-zone data (JS) alternative II (Selective timezones)</h4>

<p>It is possible to build a custom tz db for your application using <a href="https://github.com/cquiroz/sbt-tzdb">sbt-tzdb</a>. This has two big benefits:</p>

<ul>
  <li>You can select exactly what version of tzdb to use. Eventually you can you use the latest always.</li>
  <li>You can filter the time zones relevant to your application. This can dramatically reduce your js size</li>
</ul>

<p>To do that you need to:</p>

<ul>
  <li>Add <code class="highlighter-rouge">sbt-tzdb</code> to your list of plugins (Note you need sbt 1.x)</li>
</ul>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">addSbtPlugin</span><span class="o">(</span><span class="s">"io.github.cquiroz"</span> <span class="o">%</span> <span class="s">"sbt-tzdb"</span> <span class="o">%</span> <span class="s">"0.3.2"</span><span class="o">)</span>
</code></pre></div></div>

<ul>
  <li>Enable the plugin for your <code class="highlighter-rouge">Scala.js</code> project:</li>
</ul>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="o">.</span><span class="n">enablePlugins</span><span class="o">(</span><span class="nc">TzdbPlugin</span><span class="o">)</span>
</code></pre></div></div>

<p>or for cross projects, enable it <strong>only</strong> one the js side</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">lazy</span> <span class="k">val</span> <span class="n">lib</span> <span class="k">=</span> <span class="n">crossProject</span><span class="o">(</span><span class="nc">JVMPlatform</span><span class="o">,</span> <span class="nc">JSPlatform</span><span class="o">)</span>
  <span class="o">...</span>

<span class="k">lazy</span> <span class="k">val</span> <span class="n">libJVM</span> <span class="k">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">jvm</span>
<span class="k">lazy</span> <span class="k">val</span> <span class="n">libJS</span>  <span class="k">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">js</span><span class="o">.</span><span class="n">enablePlugins</span><span class="o">(</span><span class="nc">TzdbPlugin</span><span class="o">)</span>
</code></pre></div></div>

<p>This will build a tzdb exactly as on step 1 with all timezones. However you can filter the zones you want, e.g. add to your build:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">zonesFilter</span> <span class="o">:=</span> <span class="o">{(</span><span class="n">z</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">z</span> <span class="o">==</span> <span class="s">"America/Santiago"</span> <span class="o">||</span> <span class="n">z</span> <span class="o">==</span> <span class="s">"Pacific/Honolulu"</span><span class="o">},</span>
</code></pre></div></div>

<h4 id="time-zone-data-jvm">Time-zone data (JVM)</h4>

<p>The time-zone database is stored as a pre-compiled dat file that is included in the built jar.
The version of the time-zone data used is stored within the dat file (near the start).
Updating the time-zone database involves using the <code class="highlighter-rouge">TzdbZoneRulesCompiler</code> class
and re-compiling the jar file.
Pull requests with later versions of the dat file will be accepted.</p>

<h4 id="building">Building</h4>

<p>This project builds using sbt.
Run <code class="highlighter-rouge">sbt scalajavatimeTestsJVM/test</code> to run the test suite on the JVM and
<code class="highlighter-rouge">sbt scalajavatimeTestsJS/test</code> to run the test suite in JavaScript.</p>

<h4 id="contributing">Contributing</h4>

<p>We welcome all contributions, including ideas, suggestions, bug reports, bug fixes and code!
We are especially interested in contributions that tackle the following issues:</p>

<ul>
  <li>Find ways to reduce the size of the library</li>
  <li>Implement missing methods</li>
</ul>

<p>Have a look at the <a href="https://github.com/cquiroz/scala-java-time/issues">issues</a> or <a href="https://github.com/soc/scala-java-time/issues">issues</a> to find something to work on! Let us know if you need help!</p>

<h4 id="plans">Plans</h4>

<h5 id="20">2.0</h5>

<p>A stable release of 2.0 will be published with only <code class="highlighter-rouge">java.time</code> on its binary after RC3 is published.</p>

<h4 id="faqs">FAQs</h4>

<h5 id="whats-with-the-packages-the-code-uses-orgthreetenbp-but-i-use-javatime">What’s with the packages? the code uses <code class="highlighter-rouge">org.threeten.bp</code> but I use <code class="highlighter-rouge">java.time</code></h5>

<p>The original code was in the <code class="highlighter-rouge">org.threeten.bp</code> and that has been maintained, among other reasons, because writing
code on the <code class="highlighter-rouge">java</code> namespace tends to produce issues with the security controls of the JVM</p>

<p>Thus the code is on <code class="highlighter-rouge">org.threeten.bp</code> but during packaging the code is moved to <code class="highlighter-rouge">java.time</code> and <code class="highlighter-rouge">org.threeten.bp</code> is removed.</p>

<p>Most applications would use the <code class="highlighter-rouge">java.time</code> package mirroring the JVM</p>

<h5 id="is-this-project-derived-from-openjdk">Is this project derived from OpenJDK?</h5>

<p>No. This project is derived from the Reference Implementation previously hosted on GitHub.
That project had a BSD license, which has been preserved here.
Thus, this project is a fork of the original code before entry to OpenJDK.</p>

<h5 id="what-is-the-relation-to-this-project">What is the relation to <a href="https://github.com/soc/scala-java-time/">this</a> project</h5>

<p>This is a fork from the original <a href="https://github.com/soc/scala-java-time/">project</a> aim to complete the API to work on Scala.js</p>

<h5 id="are-there-are-differences-with-the-java-time-api">Are there are differences with the Java Time API?</h5>

<p>The project aims to be an exact port of the java time API to scala.
The only differences are classes not on the official java API but still present as private, e.g. <code class="highlighter-rouge">DateTimeTextProvider</code>
in the format package that have been moved to the <code class="highlighter-rouge">internal</code> package to ease compatibility across versions</p>
</div></div></section><section class="technologies"><div class="container"><div class="row"></div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><div class="col-xs-6"><p>scala-java-time is designed and developed by <a href="https://github.com/cquiroz/scala-java-time" target="_blank">Carlos Quiroz</a></p></div><div class="col-xs-6"><p class="text-right"><a href="https://github.com/cquiroz/scala-java-time"><span class="fa fa-github"></span>View on GitHub</a></p></div></div><div class="row"><div class="col-xs-6"><p>Website built with <a href="https://47deg.github.io/sbt-microsites/" target="_blank">Sbt-microsites</a> - © 2016 <a href="https://www.47deg.com/" target="_blank">47 Degrees</a></p></div></div></div></footer></body></html>